!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vega")):"function"==typeof define&&define.amd?define(["vega"],e):"object"==typeof exports?exports.finch=e(require("vega")):t.finch=e(t.vega)}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){e.__esModule=!0;var o=n(1);Object.defineProperty(e,"vl",{enumerable:!0,get:function(){return(t=o,t&&t.__esModule?t:{default:t}).default;var t}})},function(t,e,n){e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=n(2);function i(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}var c={q:"quantitative",o:"ordinal",n:"nominal",t:"temporal"},u=function(t,e,n){return(0,r.isString)(e)?1===e.length?t[e]:e:n},s=function(t,e,n){var s={};t?(s.field=t,s.type=u(c,e)):e&&(s.type=u(c,e)),(0,r.isObject)(n)&&(s=o({},s,n));var p=s,a=p.mouseover;return{channelDef:i(p,["mouseover"]),mouseover:a}},p=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.spec={$schema:"https://vega.github.io/schema/vega-lite/v2.json"},this.data(e)}return t.prototype.config=function(t){return this.spec.config=this.spec.config?o({},this.spec.config,t):t,this},t.prototype.title=function(t){return this.spec.title=t,this},t.prototype.description=function(t){return this.spec.description=t,this},t.prototype.width=function(t){return this.spec.width=t,this},t.prototype.height=function(t){return this.spec.height=t,this},t.prototype.data=function(t){return(0,r.isString)(t)?this.spec.data={url:t}:(0,r.isArray)(t)?this.spec.data={values:t}:(0,r.isObject)(t)&&(this.spec.data=t),this},t.prototype.transform=function(t){return this.spec.transform=t,this},t.prototype.selection=function(t){return this.spec.selection=t,this},t.prototype.__channel=function(t,e,n,c){var u="tooltip"===t;if(this.spec.encoding||(this.spec.encoding={}),u&&(0,r.isArray)(e))return this.spec.encoding[t]=e.map(function(t){return s(t.field,t.type,c).channelDef}),this;var p=s(e,n,c),a=p.channelDef,f=p.mouseover;if(f){var h=function(t){if(!t)return{condition:{},selection:{}};if((0,r.isObject)(t)){var e=t.bind,n=t.encodings,o=t.fields,c=t.nearest,u=t.toggle,s=t.translate,p=t.zoom;return{condition:i(t,["bind","encodings","fields","nearest","toggle","translate","zoom"]),selection:{bind:e,encodings:n,fields:o,nearest:c,toggle:u,translate:s,zoom:p}}}return{condition:{value:t},selection:{}}}(f),l=h.condition,_=h.selection;l&&(this.spec.selection||(this.spec.selection={}),this.spec.selection.mouseover=o({type:"single",on:"mouseover",empty:"none"},_),a.condition=o({},l,{selection:"mouseover"}))}return this.spec.encoding[t]=a,this},t.prototype.x=function(t,e,n){return this.__channel("x",t,e,n)},t.prototype.y=function(t,e,n){return this.__channel("y",t,e,n)},t.prototype.x2=function(t,e,n){return this.__channel("x2",t,e,n)},t.prototype.y2=function(t,e,n){return this.__channel("y2",t,e,n)},t.prototype.longitude=function(t,e,n){return this.__channel("longitude",t,e,n)},t.prototype.latitude=function(t,e,n){return this.__channel("latitude",t,e,n)},t.prototype.longitude2=function(t,e,n){return this.__channel("longitude",t,e,n)},t.prototype.latitude2=function(t,e,n){return this.__channel("latitude",t,e,n)},t.prototype.color=function(t,e,n){return this.__channel("color",t,e,n)},t.prototype.opacity=function(t,e,n){return this.__channel("opacity",t,e,n)},t.prototype.shape=function(t,e,n){return this.__channel("shape",t,e,n)},t.prototype.size=function(t,e,n){return this.__channel("size",t,e,n)},t.prototype.label=function(t,e,n){return this.__channel("text",t,e,n)},t.prototype.tooltip=function(t,e,n){return this.__channel("tooltip",t,e,n)},t.prototype.href=function(t,e,n){return this.__channel("href",t,e,n)},t.prototype.detail=function(t,e,n){return this.__channel("detail",t,e,n)},t.prototype.key=function(t,e,n){return this.__channel("key",t,e,n)},t.prototype.order=function(t,e,n){return this.__channel("order",t,e,n)},t.prototype.row=function(t,e,n){return this.__channel("row",t,e,n)},t.prototype.column=function(t,e,n){return this.__channel("column",t,e,n)},t.prototype.__mark=function(t,e){return this.spec.mark=(0,r.isObject)(e)?o({type:t},e):{type:t},this},t.prototype.area=function(t){return this.__mark("area",t)},t.prototype.bar=function(t){return this.__mark("bar",t)},t.prototype.boxplot=function(t){return this.__mark("box-plot",t)},t.prototype.circle=function(t){return this.__mark("circle",t)},t.prototype.geoshape=function(t){return this.__mark("geoshape",t)},t.prototype.line=function(t){return this.__mark("line",t)},t.prototype.point=function(t){return this.__mark("point",t)},t.prototype.rect=function(t){return this.__mark("rect",t)},t.prototype.rule=function(t){return this.__mark("rule",t)},t.prototype.square=function(t){return this.__mark("square",t)},t.prototype.text=function(t){return this.__mark("text",t)},t.prototype.tick=function(t){return this.__mark("tick",t)},t.prototype.trail=function(t){return this.__mark("trail",t)},t.prototype.__concat=function(t,e){return this.spec[t]=e.map(function(t){var e=t.spec;e.$schema,e.background,e.padding,e.autosize,e.config;return i(e,["$schema","background","padding","autosize","config"])}),this},t.prototype.layer=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("layer",e)},t.prototype.hconcat=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("hconcat",e)},t.prototype.vconcat=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("vconcat",e)},t.prototype.__facet=function(t,e,n){var o=n.spec,r=(o.$schema,o.background,o.padding,o.autosize,o.config,i(o,["$schema","background","padding","autosize","config"]));return this.spec[t]=e,this.spec.spec=r,this},t.prototype.repeat=function(t,e){return this.__facet("repeat",t,e)},t.prototype.facet=function(t,e){return this.__facet("facet",t,e)},t}();e.default=function(t){return new p(t)}},function(e,n){e.exports=t}])});