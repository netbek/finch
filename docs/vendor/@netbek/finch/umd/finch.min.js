!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vega")):"function"==typeof define&&define.amd?define(["vega"],e):"object"==typeof exports?exports.finch=e(require("vega")):t.finch=e(t.vega)}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){e.__esModule=!0;var r=n(2);Object.defineProperty(e,"vg",{enumerable:!0,get:function(){return i(r).default}});var o=n(3);function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"vl",{enumerable:!0,get:function(){return i(o).default}})},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0);var i=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.spec={$schema:"https://vega.github.io/schema/vega/v3.0.json"},this.data(e)}return t.prototype.config=function(t){return this.spec.config=this.spec.config?r({},this.spec.config,t):t,this},t.prototype.title=function(t){return this.spec.title=t,this},t.prototype.description=function(t){return this.spec.description=t,this},t.prototype.width=function(t){return this.spec.width=t,this},t.prototype.height=function(t){return this.spec.height=t,this},t.prototype.data=function(t){return(0,o.isString)(t)?this.spec.data={url:t}:(0,o.isArray)(t)?this.spec.data={values:t}:(0,o.isObject)(t)&&(this.spec.data=t),this},t}();e.default=function(t){return new i(t)}},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0);function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var c={q:"quantitative",o:"ordinal",n:"nominal",t:"temporal"},s=function(t,e,n){return(0,o.isString)(e)?1===e.length?t[e]:e:n},u=function(t,e,n){var u={};t?(u.field=t,u.type=s(c,e)):e&&(u.type=s(c,e)),(0,o.isObject)(n)&&(u=r({},u,n));var a=u,p=a.mouseover;return{channelDef:i(a,["mouseover"]),mouseover:p}},a=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.spec={$schema:"https://vega.github.io/schema/vega-lite/v2.json"},this.data(e)}return t.prototype.config=function(t){return this.spec.config=this.spec.config?r({},this.spec.config,t):t,this},t.prototype.title=function(t){return this.spec.title=t,this},t.prototype.description=function(t){return this.spec.description=t,this},t.prototype.width=function(t){return this.spec.width=t,this},t.prototype.height=function(t){return this.spec.height=t,this},t.prototype.data=function(t){return(0,o.isString)(t)?this.spec.data={url:t}:(0,o.isArray)(t)?this.spec.data={values:t}:(0,o.isObject)(t)&&(this.spec.data=t),this},t.prototype.transform=function(t){return this.spec.transform=t,this},t.prototype.selection=function(t){return this.spec.selection=t,this},t.prototype.__channel=function(t,e,n,c){var s="tooltip"===t;if(this.spec.encoding||(this.spec.encoding={}),s&&(0,o.isArray)(e))return this.spec.encoding[t]=e.map(function(t){return u(t.field,t.type,c).channelDef}),this;var a=u(e,n,c),p=a.channelDef,h=a.mouseover;if(h){var f=function(t){if(!t)return{condition:{},selection:{}};if((0,o.isObject)(t)){var e=t.bind,n=t.encodings,r=t.fields,c=t.nearest,s=t.toggle,u=t.translate,a=t.zoom;return{condition:i(t,["bind","encodings","fields","nearest","toggle","translate","zoom"]),selection:{bind:e,encodings:n,fields:r,nearest:c,toggle:s,translate:u,zoom:a}}}return{condition:{value:t},selection:{}}}(h),l=f.condition,y=f.selection;l&&(this.spec.selection||(this.spec.selection={}),this.spec.selection.mouseover=r({type:"single",on:"mouseover",empty:"none"},y),p.condition=r({},l,{selection:"mouseover"}))}return this.spec.encoding[t]=p,this},t.prototype.x=function(t,e,n){return this.__channel("x",t,e,n)},t.prototype.y=function(t,e,n){return this.__channel("y",t,e,n)},t.prototype.x2=function(t,e,n){return this.__channel("x2",t,e,n)},t.prototype.y2=function(t,e,n){return this.__channel("y2",t,e,n)},t.prototype.longitude=function(t,e,n){return this.__channel("longitude",t,e,n)},t.prototype.latitude=function(t,e,n){return this.__channel("latitude",t,e,n)},t.prototype.longitude2=function(t,e,n){return this.__channel("longitude",t,e,n)},t.prototype.latitude2=function(t,e,n){return this.__channel("latitude",t,e,n)},t.prototype.color=function(t,e,n){return this.__channel("color",t,e,n)},t.prototype.opacity=function(t,e,n){return this.__channel("opacity",t,e,n)},t.prototype.shape=function(t,e,n){return this.__channel("shape",t,e,n)},t.prototype.size=function(t,e,n){return this.__channel("size",t,e,n)},t.prototype.label=function(t,e,n){return this.__channel("text",t,e,n)},t.prototype.tooltip=function(t,e,n){return this.__channel("tooltip",t,e,n)},t.prototype.href=function(t,e,n){return this.__channel("href",t,e,n)},t.prototype.detail=function(t,e,n){return this.__channel("detail",t,e,n)},t.prototype.key=function(t,e,n){return this.__channel("key",t,e,n)},t.prototype.order=function(t,e,n){return this.__channel("order",t,e,n)},t.prototype.row=function(t,e,n){return this.__channel("row",t,e,n)},t.prototype.column=function(t,e,n){return this.__channel("column",t,e,n)},t.prototype.__mark=function(t,e){return this.spec.mark=(0,o.isObject)(e)?r({type:t},e):{type:t},this},t.prototype.area=function(t){return this.__mark("area",t)},t.prototype.bar=function(t){return this.__mark("bar",t)},t.prototype.boxplot=function(t){return this.__mark("box-plot",t)},t.prototype.circle=function(t){return this.__mark("circle",t)},t.prototype.geoshape=function(t){return this.__mark("geoshape",t)},t.prototype.line=function(t){return this.__mark("line",t)},t.prototype.point=function(t){return this.__mark("point",t)},t.prototype.rect=function(t){return this.__mark("rect",t)},t.prototype.rule=function(t){return this.__mark("rule",t)},t.prototype.square=function(t){return this.__mark("square",t)},t.prototype.text=function(t){return this.__mark("text",t)},t.prototype.tick=function(t){return this.__mark("tick",t)},t.prototype.trail=function(t){return this.__mark("trail",t)},t.prototype.__concat=function(t,e){return this.spec[t]=e.map(function(t){var e=t.spec;e.$schema,e.background,e.padding,e.autosize,e.config;return i(e,["$schema","background","padding","autosize","config"])}),this},t.prototype.layer=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("layer",e)},t.prototype.hconcat=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("hconcat",e)},t.prototype.vconcat=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("vconcat",e)},t.prototype.__facet=function(t,e,n){var r=n.spec,o=(r.$schema,r.background,r.padding,r.autosize,r.config,i(r,["$schema","background","padding","autosize","config"]));return this.spec[t]=e,this.spec.spec=o,this},t.prototype.repeat=function(t,e){return this.__facet("repeat",t,e)},t.prototype.facet=function(t,e){return this.__facet("facet",t,e)},t}();e.default=function(t){return new a(t)}}])});