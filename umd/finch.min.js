!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vega")):"function"==typeof define&&define.amd?define(["vega"],e):"object"==typeof exports?exports.finch=e(require("vega")):t.finch=e(t.vega)}(window,function(n){return function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}return o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e){t.exports=n},function(t,e,n){e.__esModule=!0;var r=n(2);Object.defineProperty(e,"vg",{enumerable:!0,get:function(){return i(r).default}});var o=n(3);function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"vl",{enumerable:!0,get:function(){return i(o).default}})},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0);var i=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.spec={$schema:"https://vega.github.io/schema/vega/v3.0.json"},this.data(t)}return e.prototype.config=function(t){return this.spec.config=this.spec.config?r({},this.spec.config,t):t,this},e.prototype.title=function(t){return this.spec.title=t,this},e.prototype.description=function(t){return this.spec.description=t,this},e.prototype.width=function(t){return this.spec.width=t,this},e.prototype.height=function(t){return this.spec.height=t,this},e.prototype.data=function(t){return(0,o.isString)(t)?this.spec.data={url:t}:(0,o.isArray)(t)?this.spec.data={values:t}:(0,o.isObject)(t)&&(this.spec.data=t),this},e}();e.default=function(t){return new i(t)}},function(t,e,n){e.__esModule=!0;var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(0);function l(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var c={q:"quantitative",o:"ordinal",n:"nominal",t:"temporal"},u=function(t,e,n){return(0,h.isString)(e)?1===e.length?t[e]:e:n},y=function(t,e,n){var r={};t?(r.field=t,r.type=u(c,e)):e&&(r.type=u(c,e)),(0,h.isObject)(n)&&(r=f({},r,n));var o=r,i=o.mouseover;return{channelDef:l(o,["mouseover"]),mouseover:i}},r=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.spec={$schema:"https://vega.github.io/schema/vega-lite/v2.json"},this.data(t)}return e.prototype.config=function(t){return this.spec.config=this.spec.config?f({},this.spec.config,t):t,this},e.prototype.title=function(t){return this.spec.title=t,this},e.prototype.description=function(t){return this.spec.description=t,this},e.prototype.width=function(t){return this.spec.width=t,this},e.prototype.height=function(t){return this.spec.height=t,this},e.prototype.data=function(t){return(0,h.isString)(t)?this.spec.data={url:t}:(0,h.isArray)(t)?this.spec.data={values:t}:(0,h.isObject)(t)&&(this.spec.data=t),this},e.prototype.transform=function(t){return this.spec.transform=t,this},e.prototype.selection=function(t){return this.spec.selection=t,this},e.prototype.__channel=function(t,e,n,r){var o="tooltip"===t;if(this.spec.encoding||(this.spec.encoding={}),o&&(0,h.isArray)(e))return this.spec.encoding[t]=e.map(function(t){return y(t.field,t.type,r).channelDef}),this;var i=y(e,n,r),c=i.channelDef,u=i.mouseover;if(u){var s=function(t){if(!t)return{condition:{},selection:{}};if((0,h.isObject)(t)){var e=t.bind,n=t.encodings,r=t.fields,o=t.nearest,i=t.toggle,c=t.translate,u=t.zoom;return{condition:l(t,["bind","encodings","fields","nearest","toggle","translate","zoom"]),selection:{bind:e,encodings:n,fields:r,nearest:o,toggle:i,translate:c,zoom:u}}}return{condition:{value:t},selection:{}}}(u),a=s.condition,p=s.selection;a&&(this.spec.selection||(this.spec.selection={}),this.spec.selection.mouseover=f({type:"single",on:"mouseover",empty:"none"},p),c.condition=f({},a,{selection:"mouseover"}))}return this.spec.encoding[t]=c,this},e.prototype.x=function(t,e,n){return this.__channel("x",t,e,n)},e.prototype.y=function(t,e,n){return this.__channel("y",t,e,n)},e.prototype.x2=function(t,e,n){return this.__channel("x2",t,e,n)},e.prototype.y2=function(t,e,n){return this.__channel("y2",t,e,n)},e.prototype.longitude=function(t,e,n){return this.__channel("longitude",t,e,n)},e.prototype.latitude=function(t,e,n){return this.__channel("latitude",t,e,n)},e.prototype.longitude2=function(t,e,n){return this.__channel("longitude",t,e,n)},e.prototype.latitude2=function(t,e,n){return this.__channel("latitude",t,e,n)},e.prototype.color=function(t,e,n){return this.__channel("color",t,e,n)},e.prototype.opacity=function(t,e,n){return this.__channel("opacity",t,e,n)},e.prototype.shape=function(t,e,n){return this.__channel("shape",t,e,n)},e.prototype.size=function(t,e,n){return this.__channel("size",t,e,n)},e.prototype.label=function(t,e,n){return this.__channel("text",t,e,n)},e.prototype.tooltip=function(t,e,n){return this.__channel("tooltip",t,e,n)},e.prototype.href=function(t,e,n){return this.__channel("href",t,e,n)},e.prototype.detail=function(t,e,n){return this.__channel("detail",t,e,n)},e.prototype.key=function(t,e,n){return this.__channel("key",t,e,n)},e.prototype.order=function(t,e,n){return this.__channel("order",t,e,n)},e.prototype.row=function(t,e,n){return this.__channel("row",t,e,n)},e.prototype.column=function(t,e,n){return this.__channel("column",t,e,n)},e.prototype.__mark=function(t,e){return this.spec.mark=(0,h.isObject)(e)?f({type:t},e):{type:t},this},e.prototype.area=function(t){return this.__mark("area",t)},e.prototype.bar=function(t){return this.__mark("bar",t)},e.prototype.boxplot=function(t){return this.__mark("box-plot",t)},e.prototype.circle=function(t){return this.__mark("circle",t)},e.prototype.geoshape=function(t){return this.__mark("geoshape",t)},e.prototype.line=function(t){return this.__mark("line",t)},e.prototype.point=function(t){return this.__mark("point",t)},e.prototype.rect=function(t){return this.__mark("rect",t)},e.prototype.rule=function(t){return this.__mark("rule",t)},e.prototype.square=function(t){return this.__mark("square",t)},e.prototype.text=function(t){return this.__mark("text",t)},e.prototype.tick=function(t){return this.__mark("tick",t)},e.prototype.trail=function(t){return this.__mark("trail",t)},e.prototype.__concat=function(t,e){return this.spec[t]=e.map(function(t){var e=t.spec;e.$schema,e.background,e.padding,e.autosize,e.config;return l(e,["$schema","background","padding","autosize","config"])}),this},e.prototype.layer=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("layer",e)},e.prototype.hconcat=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("hconcat",e)},e.prototype.vconcat=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__concat("vconcat",e)},e.prototype.__facet=function(t,e,n){var r=n.spec,o=(r.$schema,r.background,r.padding,r.autosize,r.config,l(r,["$schema","background","padding","autosize","config"]));return this.spec[t]=e,this.spec.spec=o,this},e.prototype.repeat=function(t,e){return this.__facet("repeat",t,e)},e.prototype.facet=function(t,e){return this.__facet("facet",t,e)},e}();e.default=function(t){return new r(t)}}])});