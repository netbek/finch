<pre><code><span class="token keyword">const</span> <span class="token punctuation">{</span>spec<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">finch</span><span class="token punctuation">(</span><span class="token string">'data/iris.csv'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>binSpacing<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token string">'sepalLength'</span><span class="token punctuation">,</span> <span class="token string">'q'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    bin<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'q'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>aggregate<span class="token punctuation">:</span> <span class="token string">'count'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'q'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    condition<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      selection<span class="token punctuation">:</span> <span class="token string">'hover'</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token string">'black'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">selection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    hover<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'single'</span><span class="token punctuation">,</span>
      on<span class="token punctuation">:</span> <span class="token string">'mouseover'</span><span class="token punctuation">,</span>
      empty<span class="token punctuation">:</span> <span class="token string">'none'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">tooltip</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'q'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>aggregate<span class="token punctuation">:</span> <span class="token string">'count'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string">'species'</span><span class="token punctuation">,</span> <span class="token string">'n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Long-form version using the `facet` method</span>
<span class="token comment" spellcheck="true">// const {spec} = finch('data/iris.csv').facet(</span>
<span class="token comment" spellcheck="true">//   {</span>
<span class="token comment" spellcheck="true">//     column: {</span>
<span class="token comment" spellcheck="true">//       field: 'species',</span>
<span class="token comment" spellcheck="true">//       type: 'n'</span>
<span class="token comment" spellcheck="true">//     }</span>
<span class="token comment" spellcheck="true">//   },</span>
<span class="token comment" spellcheck="true">//   finch()</span>
<span class="token comment" spellcheck="true">//     .width(150)</span>
<span class="token comment" spellcheck="true">//     .height(150)</span>
<span class="token comment" spellcheck="true">//     .bar({binSpacing: 0})</span>
<span class="token comment" spellcheck="true">//     .x('sepalLength', 'q', {</span>
<span class="token comment" spellcheck="true">//       bin: true</span>
<span class="token comment" spellcheck="true">//     })</span>
<span class="token comment" spellcheck="true">//     .y(null, 'q', {aggregate: 'count'})</span>
<span class="token comment" spellcheck="true">//     .color(null, 'q', {</span>
<span class="token comment" spellcheck="true">//       condition: {</span>
<span class="token comment" spellcheck="true">//         selection: 'hover',</span>
<span class="token comment" spellcheck="true">//         value: 'black'</span>
<span class="token comment" spellcheck="true">//       }</span>
<span class="token comment" spellcheck="true">//     })</span>
<span class="token comment" spellcheck="true">//     .selection({</span>
<span class="token comment" spellcheck="true">//       hover: {</span>
<span class="token comment" spellcheck="true">//         type: 'single',</span>
<span class="token comment" spellcheck="true">//         on: 'mouseover',</span>
<span class="token comment" spellcheck="true">//         empty: 'none'</span>
<span class="token comment" spellcheck="true">//       }</span>
<span class="token comment" spellcheck="true">//     })</span>
<span class="token comment" spellcheck="true">//     .tooltip(null, 'q', {aggregate: 'count'})</span>
<span class="token comment" spellcheck="true">// );</span></code></pre>